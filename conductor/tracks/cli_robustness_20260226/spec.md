# 轨道规格: 增强 CLI 批量导入工具的健壮性

## 1. 目标
提高 `vehicle-asset` CLI 工具在批量导入白名单用户和资产数据时的健壮性。确保非法数据能够被准确识别并提供清晰的错误信息，防止破坏数据库一致性。

## 2. 现有问题
- 数据校验逻辑分散或不完整。
- 缺乏对异常输入（如格式错误的邮箱、重复的 UID）的统一处理。
- 错误提示不够友好，难以定位具体哪一行数据出错。

## 3. 需求
- **数据验证层**：在导入逻辑中集成 Pydantic 模型进行强制校验。
- **重复检查**：在写入数据库前检查是否存在重复的 UID 或敏感资产标识。
- **逐行报告**：如果导入失败，应明确指出失败的行号及具体原因。
- **原子性操作**：确保批量导入要么全部成功，要么在失败时安全回滚（或提供部分导入的明确状态）。

## 4. 技术方案
- 使用 Pydantic 建模输入数据。
- 扩展现有的 Typer CLI 命令逻辑。
- 增加专门的错误处理装饰器或上下文管理器。
